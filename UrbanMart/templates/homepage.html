<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UrbanMart - Your Modern Marketplace</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root {
  --primary: #6C63FF;
  --secondary: #F8F8FF;
  --accent: #FFB86B;
  --text: #22223B;
  --nav-bg: #fff;
  --nav-shadow: 0 2px 16px rgba(108,99,255,0.08);
}

body {
  font-family: 'Montserrat', Arial, sans-serif;
  margin: 0;
  background: var(--secondary);
  color: var(--text);
  transition: background 0.3s;
}

.navbar {
  background: var(--nav-bg);
  box-shadow: var(--nav-shadow);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 2rem;
  position: sticky;
  top: 0;
  z-index: 100;
}

.nav-logo {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary);
  letter-spacing: 1px;
}

.nav-links {
  display: flex;
  align-items: center;
  gap: 2rem;
  list-style: none;
  margin: 0;
  padding: 0;
  transition: max-height 0.3s;
}

.nav-links li a {
  text-decoration: none;
  color: var(--text);
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  transition: background 0.2s, color 0.2s;
}

.nav-links li a:hover {
  background: var(--primary);
  color: #fff;
}

.login-btn {
  background: var(--primary);
  color: #fff;
  border: none;
  padding: 0.5rem 1.2rem;
  border-radius: 22px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(108,99,255,0.08);
  transition: background 0.2s, transform 0.2s;
}

.login-btn:hover {
  background: var(--accent);
  color: var(--text);
  transform: translateY(-2px) scale(1.04);
}

.nav-toggle {
  display: none;
  font-size: 2rem;
  cursor: pointer;
  color: var(--primary);
}

.hero {
  background: linear-gradient(120deg, #f8f8ff 60%, #e0e7ff 100%);
  text-align: center;
  padding: 4rem 1rem 3rem 1rem;
  animation: fadeIn 1s;
}

.hero h1 {
  font-size: 2.8rem;
  margin-bottom: 0.5rem;
  color: var(--primary);
  letter-spacing: 1px;
}

.hero p {
  font-size: 1.25rem;
  color: #444;
  margin-bottom: 2rem;
}

.cta-btn {
  background: var(--accent);
  color: #fff;
  padding: 0.9rem 2.2rem;
  border: none;
  border-radius: 30px;
  font-size: 1.2rem;
  font-weight: bold;
  text-decoration: none;
  box-shadow: 0 2px 8px rgba(255,184,107,0.1);
  transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
}

.cta-btn:hover {
  background: var(--primary);
  color: #fff;
  box-shadow: 0 4px 16px rgba(108,99,255,0.10);
  transform: scale(1.06);
}

/* ADMIN PANEL STYLES */
.admin-panel {
  max-width: 900px;
  margin: 2rem auto;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(108,99,255,0.15);
  padding: 1.5rem 2rem;
  animation: fadeInUp 1s;
}

.admin-panel h5 {
  color: white;
  margin-bottom: 1rem;
  font-size: 1.3rem;
}

.admin-panel .btn-group {
  display: flex;
  gap: 0.8rem;
  flex-wrap: wrap;
}

.admin-panel .btn {
  border: 2px solid white;
  color: white;
  background: transparent;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  font-size: 0.9rem;
}

.admin-panel .btn:hover {
  background: white;
  color: #667eea;
  transform: translateY(-2px);
}

.about-section, .categories-section {
  max-width: 900px;
  margin: 2.5rem auto;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 2px 16px rgba(108,99,255,0.06);
  padding: 2rem 1.5rem;
  animation: fadeInUp 1.2s;
}

.about-section h2, .categories-section h2 {
  color: var(--primary);
  font-size: 2rem;
  margin-bottom: 1rem;
}

.categories-grid {
  display: flex;
  flex-direction: row;
  gap: 20rem;
  justify-content: center;
  margin-top: 1.5rem;
  flex-wrap: wrap;
  text-decoration: none;
  color: inherit;
}

.category-card {
  background: linear-gradient(120deg, #f8f8ff 80%, #e0e7ff 100%);
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(108,99,255,0.04);
  padding: 1.5rem 1rem 1rem 1rem;
  text-align: center;
  transition: transform 0.2s, box-shadow 0.2s;
  cursor: pointer;
  display: block;
  text-decoration: none;
  color: inherit;
}

.category-card:hover {
  transform: translateY(-8px) scale(1.04);
  box-shadow: 0 6px 24px rgba(108,99,255,0.12);
  background: linear-gradient(120deg, #e0e7ff 60%, #f8f8ff 100%);
}

.category-card img {
  width: 64px;
  height: 64px;
  margin-bottom: 0.6rem;
}

.category-card h3 {
  font-size: 1.1rem;
  color: var(--primary);
  margin: 0;
}

footer {
  background: #23223b;
  color: #fff;
  text-align: center;
  padding: 1.2rem 0;
  margin-top: 2.5rem;
  font-size: 1rem;
}

/* Modal Styles */
.modal {
  display: none;
  position: fixed;
  z-index: 200;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: auto;
  background: rgba(44, 44, 84, 0.25);
  animation: fadeIn 0.4s;
}

.modal-content {
  background: #fff;
  margin: 8% auto;
  padding: 2rem 2.5rem;
  border-radius: 14px;
  box-shadow: 0 4px 24px rgba(108,99,255,0.15);
  width: 95%;
  max-width: 400px;
  position: relative;
  animation: fadeInUp 0.6s;
}

.close {
  color: #888;
  position: absolute;
  top: 18px;
  right: 24px;
  font-size: 2rem;
  font-weight: bold;
  cursor: pointer;
  transition: color 0.2s;
}

.close:hover {
  color: var(--primary);
}

.modal-content h2 {
  color: var(--primary);
  margin-bottom: 1.2rem;
}

.modal-content form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.modal-content input {
  padding: 0.7rem;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 1rem;
}

.modal-content button[type="submit"] {
  background: var(--primary);
  color: #fff;
  border: none;
  padding: 0.7rem;
  border-radius: 6px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.modal-content button[type="submit"]:hover {
  background: var(--accent);
  color: var(--text);
}

.modal-content a {
  color: var(--primary);
  text-decoration: none;
  font-weight: 500;
}

.modal-content a:hover {
  text-decoration: underline;
}

/* Responsive Design */
@media (max-width: 800px) {
  .about-section, .categories-section, .admin-panel {
    padding: 1.2rem 0.5rem;
    margin: 1rem;
  }
  .categories-grid {
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  .navbar {
    padding: 0 1rem;
  }
  .admin-panel .btn-group {
    flex-direction: column;
  }
}

@media (max-width: 600px) {
  .categories-grid {
    grid-template-columns: 1fr;
  }
  .nav-links {
    flex-direction: column;
    background: #fff;
    position: absolute;
    top: 60px;
    right: 0;
    width: 100vw;
    max-height: 0;
    overflow: hidden;
    box-shadow: var(--nav-shadow);
    transition: max-height 0.3s;
  }
  .nav-links.active {
    max-height: 200px;
    padding-bottom: 1rem;
  }
  .nav-toggle {
    display: block;
  }
  .nav-links li {
    margin: 0.7rem 0;
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(40px);}
  to { opacity: 1; transform: translateY(0);}
}
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

main, .hero, .about-section, .categories-section {
  flex-shrink: 0;
}

/* Make footer stick to bottom */
footer {
  margin-top: auto;
}
/* OAuth Button Styles */
.oauth-divider {
    display: flex;
    align-items: center;
    margin: 1rem 0;
}

.oauth-divider-line {
    flex-grow: 1;
    border: none;
    border-top: 1px solid #ddd;
}

.oauth-divider-text {
    padding: 0 1rem;
    color: #666;
    font-size: 0.9rem;
}

.google-oauth-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    background: #fff;
    color: #757575;
    border: 1px solid #ddd;
    padding: 12px 20px;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s;
    width: 100%;
    margin: 10px 0;
}

.google-oauth-btn:hover {
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    background: #f8f9fa;
}

.google-logo {
    width: 18px;
    height: 18px;
    margin-right: 12px;
}
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-logo">
      <svg width="36" height="36" viewBox="0 0 24 24" fill="none">
        <circle cx="12" cy="12" r="12" fill="#6C63FF"/>
        <path d="M7 18c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm1.016-2.414l-1.41-1.41c-.36-.36-.86-.586-1.406-.586H8.8l-.94-4.72A1.994 1.994 0 0 0 6 7H4V5h2c.552 0 1 .448 1 1l1.25 6.25h7.6c.412 0 .78.25.92.64l1.72 4.32c.18.45-.14.93-.62.93H7v2h10c.55 0 1-.45 1-1 0-.27-.11-.52-.29-.71z" fill="#fff"/>
      </svg>
      <span>UrbanMart</span>
    </div>

    <ul class="nav-links">
      <li><a href="#about">About Us</a></li>
      <li><a href="#categories">Categories</a></li>
      <li><a href="{% url 'view_cart'%}">Cart</a></li>

      {% if user_name %}
      <li style="font-weight: 600; color: var(--primary);">Welcome, {{ user_name }}</li>
      <li><a href="{% url 'logout_user' %}" class="login-btn">Logout</a></li>
      {% else %}
      <li><button class="login-btn" id="loginBtn">Login/Register</button></li>
      {% endif %}
    </ul>

    <div class="nav-toggle" id="navToggle">&#9776;</div>
  </nav>

  <!-- Hero Section -->
  <header class="hero">
    <h1>Welcome to UrbanMart</h1>
    <p>Your modern, reliable, and diverse online marketplace.</p>
    <a href="#categories" class="cta-btn">Shop Now</a>
  </header>

  <!-- ADMIN PANEL - This goes RIGHT AFTER the hero section -->
  {% if user_id and is_admin %}
  <div class="admin-panel">
    <h5>ðŸ‘‘ Admin Panel</h5>
    <div class="btn-group">
      <a href="{% url 'promote_admin' %}" class="btn">Manage Admins</a>
      <a href="{% url 'add_category' %}" class="btn">Add Category</a>
      <a href="{% url 'add_product' %}" class="btn">Add Product</a>
    </div>
  </div>
  {% endif %}

  <!-- About Us Section -->
  <section id="about" class="about-section">
    <h2>About Us</h2>
    <p>
      UrbanMart is your one-stop destination for quality products, unbeatable prices, and exceptional customer service. 
      We bring the city's best shopping experience online, making it easy for you to find everything you need, anytime, anywhere.
    </p>
  </section>

  <!-- Categories Section -->
  <section id="categories" class="categories-section">
    <h2>Categories</h2>
    <div class="categories-grid">
      <div class="category-card">
        <a href="{% url 'view_product' 2 %}" class="category-card">
          <img src="https://img.icons8.com/color/96/000000/t-shirt.png" alt="Fashion" />
          <h3>Fashion</h3>
        </a>
      </div>
      <div class="category-card">
        <a href="{% url 'view_product' 1 %}" class="category-card">
          <img src="https://img.icons8.com/color/96/000000/laptop.png" alt="Electronics"/>
          <h3>Electronics</h3>
        </a>
      </div>
      <div class="category-card">
        <img src="https://img.icons8.com/color/96/000000/grocery-bag.png" alt="Groceries"/>
        <h3>Groceries</h3>
      </div>
      <div class="category-card">
        <img src="https://img.icons8.com/color/96/000000/sofa.png" alt="Home & Living"/>
        <h3>Home & Living</h3>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 UrbanMart. All rights reserved.</p>
  </footer>

  <!-- Login/Register Modal (hidden by default) -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h2>Login or Register</h2>
      <form method="post" action="{% url 'login_user' %}">
        {% csrf_token %}
        <input type="email" name="email" placeholder="Email" required/>
        <input type="password" name="password" placeholder="Password" required autocomplete="off"/>
        <button type="submit">Login</button>
      </form>
      <div style="text-align: center; margin: 20px 0;">
            <div style="display: flex; align-items: center; margin: 10px 0;">
                <hr style="flex-grow: 1; border: none; border-top: 1px solid #ddd;">
                <span style="padding: 0 10px; color: #666;">OR</span>
                <hr style="flex-grow: 1; border: none; border-top: 1px solid #ddd;">
            </div>
            
            <a href="{% url 'social:begin' 'google-oauth2' %}" 
               style="display: flex; align-items: center; justify-content: center; 
                      background: #fff; color: #757575; border: 1px solid #ddd; 
                      padding: 12px 20px; border-radius: 4px; text-decoration: none;
                      font-weight: 500; transition: all 0.3s; margin: 10px 0;"
               onmouseover="this.style.boxShadow='0 2px 4px rgba(0,0,0,0.2)'"
               onmouseout="this.style.boxShadow='none'">
                <img src="https://developers.google.com/identity/images/g-logo.png" 
                     alt="Google" style="width: 20px; height: 20px; margin-right: 12px;">
                Sign in with Google
            </a>
        </div>
      <p>Don't have an account? <a href="{% url 'register' %}">Register here</a></p>
    </div>
  </div>

  <script>
    // Navbar toggle for mobile
    const navToggle = document.getElementById('navToggle');
    const navLinks = document.querySelector('.nav-links');
    if (navToggle) {
      navToggle.onclick = () => navLinks.classList.toggle('active');
    }

    // Modal logic
    const loginBtn = document.getElementById('loginBtn');
    const loginModal = document.getElementById('loginModal');
    const closeModal = document.getElementById('closeModal');
    
    if (loginBtn) {
      loginBtn.onclick = () => loginModal.style.display = 'block';
    }
    
    if (closeModal) {
      closeModal.onclick = () => loginModal.style.display = 'none';
    }
    
    window.onclick = (e) => {
      if (e.target == loginModal) loginModal.style.display = 'none';
    }
  </script>
</body>
</html>